<?xml version="1.0" encoding="utf-8" ?>
<uranium:UraniumContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="AppPallet.Views.CostoPorPalletCrearView"
    Title="CostoPorPalletCrear"
    xmlns:viewModels="clr-namespace:AppPallet.ViewModels"
    xmlns:uranium="http://schemas.enisn-projects.io/dotnet/maui/uraniumui"
    xmlns:material="http://schemas.enisn-projects.io/dotnet/maui/uraniumui/material"
    xmlns:fa="clr-namespace:UraniumUI.Icons.FontAwesome;assembly=UraniumUI.Icons.FontAwesome"
    xmlns:dg="clr-namespace:Maui.DataGrid;assembly=Maui.DataGrid">





    <VerticalStackLayout Spacing="20">


        <HorizontalStackLayout WidthRequest="300" HorizontalOptions="Center">
            <Entry
                Placeholder="Mes (número)"
                Keyboard="Numeric"
                Text="{Binding MesIngresado, Mode=TwoWay}" />

            <Entry
                Placeholder="Año"
                Keyboard="Numeric"
                Text="{Binding AñoIngresado, Mode=TwoWay}" />
        </HorizontalStackLayout>
        

        <material:PickerField
            Title="Selecciona la Empresa"
            ItemsSource="{Binding ListEmpresas}"
            ItemDisplayBinding="{Binding NomEmpresa}"
            SelectedItem="{Binding EmpresaIngresada, Mode=TwoWay}" />

        <material:PickerField
            Title="Selecciona el Pallet"
            ItemsSource="{Binding ListPallets}"
            ItemDisplayBinding="{Binding Nombre}"
            SelectedItem="{Binding PalletIngresado, Mode=TwoWay}" />

        <material:EditorField TextColor="Black" Title="Nombre del Costo al Pallet" Text="{Binding CostoPorPalletCreated.NombrePalletCliente, Mode=TwoWay}" />

        <material:EditorField TextColor="Black" Title="Cantidad de pallet por dia" Text="{Binding CostoPorPalletCreated.CantidadPorDia, Mode=TwoWay}" />

        <material:EditorField TextColor="Black" Title="Carga maxima del camion" Text="{Binding CostoPorPalletCreated.CargaCamion, Mode=TwoWay}" />

        <material:EditorField TextColor="Black" Title="Ganancia" Text="{Binding CostoPorPalletCreated.GananciaPorCantPallet, Mode=TwoWay}" Keyboard="Numeric" />
        
        <material:EditorField TextColor="Black" Title="Precio" Text="{Binding CostoPorPalletCreated.PrecioPallet, Mode=TwoWay}" Keyboard="Numeric" />


        <VerticalStackLayout>
            <Label Text="Costos por Camión" FontAttributes="Bold" />

            <Grid ColumnDefinitions="*,*">
                <Label Grid.Column="0" Text="Nombre Costo" />
                <Label Grid.Column="1" Text="Monto" />
            </Grid>

            <CollectionView ItemsSource="{Binding ListCostoPorCamions}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="*,*">
                            <Entry Grid.Column="0" Text="{Binding NombreCosto, Mode=TwoWay}" Placeholder="Nombre del costo" />
                            <Entry Grid.Column="1" Text="{Binding Monto, Mode=TwoWay}" Keyboard="Numeric" Placeholder="Monto"/>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Button Text="Agregar costo por camión" 
                    Command="{Binding AgregarCostoPorCamionCommand}" 
                    StyleClass="OutlinedButton"
                    BorderColor="#d65265" TextColor="#d65265"/>
        </VerticalStackLayout>


        <HorizontalStackLayout Spacing="10">
            <Button StyleClass="FilledButton" BackgroundColor="#C352D6" Text="Crear Costo del Pallet" Command="{Binding CrearCostoPorPalletCommand}"/>
            <Button StyleClass="FilledButton" BackgroundColor="#C352D6" Text="Volver" Command="{Binding VolverCommand}"/>
        </HorizontalStackLayout>


    </VerticalStackLayout>
    



</uranium:UraniumContentPage>